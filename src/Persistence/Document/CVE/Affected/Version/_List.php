<?php

declare(strict_types=1);

namespace App\Persistence\Document\CVE\Affected\Version;

use Doctrine\Common\Collections\Collection;
use Doctrine\ODM\MongoDB\Mapping\Annotations as ODM;

/**
 * @final
 *
 * @readonly
 *
 *                                   LIST IS A RESERVED KEYWORD.
 *
 *  ......................................-@@@%+=#@@@...................................................
 *  ..... .       ................ ..@@@@@@@@@@%.......@................................................
 *  ............................@@.........:%@....-@:....@....................@.........................
 *  .........................=@.......................@@.%.@............................................
 *  ........................@.............................@@@........%..................................
 *  .... .................@.................................@@@..........................-=.............
 *
 *  ....  .........  . ..@. . ........................... ...@@@..........@%*@@.........................
 *  . .................@.......................... ...........@.@.......:........@......................
 *  . ................@.....@@....@...................%@*.....:@........@..........%....................
 *  ....... .... .-.@:....@...... ..@.............#%....%@@.....@@......@.@.........@ ..................
 *  ....... .. . .*%....::....... ....@.........:*.........@......@.......@@.........-..................
 *  . ............@.....:.......@@%....@.......@...@.@:.....@.....=@........-........%..................
 *  . ...........@=....@.......@@@@....:......@....@@@@......@.....@@.......@...........................
 *  ...........@.......%...............@.....:...............+......-@................@.................
 *  .......... @.@......@....... .....@.......@..... ..... .@.     .@.@.    .#        @
 *  ...........@.@. .....*:.. .. . .=%. .... ..%*... . ...@.        .@..     @        @
 *
 *  .. ........@:.. .... ...@%..*@@................#@@@:..           .:+    .@        @
 *  ......    .@@.  . .. . .. .. . .. ...... .... .. . ..             @.  ...=       ..
 *  ......    .##............ .. . .. ........... .. . ..             =@ .%          @
 *  ...........@@............... . .. ...... .... .. . ..  :@.        :@.@          *.
 *
 *  ...........@@....... . .. .. . .. .............. . ..  .@.-       .@#         .@..*@..
 *  ...........@@............... . .. .............. . ..  ..          @-                @.
 *  ...... .. .#::........... .. . .. . .... .... .. . ....@.          @-             =@@.@
 *  .......... ..@.............. .... . ......... .. ......@.         .@-              .. @
 *  ....... ....@.@ . .. .... .. .... . ......... .. .....#.           @.           .  ..@.
 *  ............#.@............. .... . ......... .. .....%           .@.         .@@@@.
 *  ...... ......@.@.... .... .. . .. . .... .... .. . ..@            .@              ...**
 *  ......       .+@......... .. .... . .... .... .. ..-+.            .@              .... =
 *  ...............@. .. . .. ..@@... ........... ...+@..             @+          +@===::@-.
 *  ...............@.............=@+....... .....@@..................@.................:-..............
 *  ................@-# ....... ..... ..:%@@@@-.... .................@*....................%............
 *  ................@..@-...... .............. .... .................@.......@.........@@...+...........
 *
 *  .................#...-@.........................................@........-.. .@@+....*@.............
 *  ...................................... .. .....................@....................................
 */
#[ODM\EmbeddedDocument]
class _List
{
    public function __construct(
        /**
         * @var Collection<non-negative-int, Version> $versions
         */
        #[ODM\EmbedMany(
            discriminatorField: '_type',
            discriminatorMap: [
                'version' => Version::class,
            ]
        )]
        private Collection $versions,
    ) {
    }

    /**
     * @return Collection<non-negative-int, Version>
     */
    public function versions(): Collection
    {
        return $this->versions;
    }
}
